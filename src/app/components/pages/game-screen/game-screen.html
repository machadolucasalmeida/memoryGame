<div class="game-container">
    <div class="header-container">
        <h2>Memory Match</h2>
        <button (click)="backToMainScreen()" class="back-button">Back to Main</button>
    </div>

    <div class="card-grid-container" [style]="getGridStyle()">
        @for (card of cards(); track card.id) {
        <div class="card-flip-container" (click)="flipCard(card.id)">
            <div class="card-inner" [class.flipped]="card.flipped || card.matched" [class.matched]="card.matched">
                <div class="card-front">?</div>
                <div class="card-back">{{ card.value }}</div>
            </div>
        </div>
        }
    </div>

    @if (matchedPairs() === cards().length / 2 && cards().length > 0) {
    <div class="game-over-message">
        <h2>You Win!</h2>
        <button (click)="backToMainScreen()" class="back-button">Play Again</button>
    </div>
    }
</div>